# =============================================================================
# Mumble Voice Configuration — pma-voice + CAD Bridge
# =============================================================================
# Loaded by server.cfg via: exec voice.cfg
#
# This file is automatically deployed to your FiveM server by the CAD when
# FIVEM_SERVER_PATH is set in .env. It will be written alongside your
# server.cfg as voice.cfg and overwritten on every CAD restart to stay
# in sync.
#
# Replace 103.203.241.35 with your VPS public IP.
# Port 64738 must be open TCP+UDP in Windows Firewall and your VPS
# provider's security group.
# =============================================================================

# Direct pma-voice players to the standalone Mumble server (managed by CAD)
setr voice_externalAddress "103.203.241.35"
setr voice_externalPort 64738
setr voice_allowSetIntent 1
setr voice_hideEndpoints 1

# Audio mode — voice_useNativeAudio enables the game's native 3D audio engine,
# which is REQUIRED for the radio submix effect (the walkie-talkie filter on
# radio transmissions). voice_enableSubmix adds that filter automatically.
# Note: do NOT enable voice_use2dAudio alongside voice_useNativeAudio.
setr voice_useNativeAudio true
setr voice_enableSubmix 1
setr voice_defaultRadioVolume 100

# =============================================================================
# CAD Bridge settings
# =============================================================================

set cad_bridge_base_url "http://127.0.0.1:3031"
set cad_bridge_token "Ku3xaT6MVe+GgGC9qQu2bMbdqBEPY7cXCyRd3WISCjA="

# NPWD 000 emergency number interception
set cad_bridge_npwd_emergency_numbers "000"
set cad_bridge_npwd_resource "npwd"

# Fine + job sync
set cad_bridge_fine_adapter "auto"
set cad_bridge_job_sync_adapter "auto"

# Radio adapter for CAD-driven radio channel events
# 'auto'      -> try pma-voice first, fall back to mm-radio (recommended)
# 'pma-voice' -> use pma-voice exports (setPlayerRadio / setPlayerCall)
# 'mm-radio'  -> use mm_radio exports (JoinRadio / LeaveRadio)
# 'none'      -> disable in-game radio sync
set cad_bridge_radio_adapter "auto"
