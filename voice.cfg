# =============================================================================
# Mumble Voice Configuration — pma-voice + CAD Bridge
# =============================================================================
# Loaded by server.cfg via: exec voice.cfg
#
# Replace 103.203.241.35 with your VPS public IP.
# Port 64738 must be open TCP+UDP in Windows Firewall and your VPS
# provider's security group.
# =============================================================================

# Direct pma-voice players to the standalone Mumble server (managed by CAD)
setr voice_externalAddress "103.203.241.35"
setr voice_externalPort 64738
setr voice_allowSetIntent 1
setr voice_hideEndpoints 1

# Proximity audio mode — must be set explicitly so pma-voice doesn't auto-override.
# Without this, pma-voice server.lua auto-sets voice_useNativeAudio=true and
# voice_useSendingRangeOnly=true which changes proximity ranges and can break voice.
# voice_use2dAudio=true: standard GTA 2D proximity (recommended for external Mumble).
#
# DO NOT set voice_useSendingRangeOnly=true with an external Mumble server.
# FiveM does not forward player position data to external Murmur, so the sending
# range check always fails and silently blocks ALL audio transmission.
setr voice_use2dAudio true

# =============================================================================
# CAD Bridge settings
# =============================================================================

set cad_bridge_base_url "http://127.0.0.1:3030"
set cad_bridge_token "Ku3xaT6MVe+GgGC9qQu2bMbdqBEPY7cXCyRd3WISCjA="

# NPWD 000 emergency number interception
set cad_bridge_npwd_emergency_numbers "000"
set cad_bridge_npwd_resource "npwd"

# Fine + job sync
set cad_bridge_fine_adapter "auto"
set cad_bridge_job_sync_adapter "auto"
